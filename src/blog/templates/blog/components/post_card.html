{% comment %}
Blog Post Card Component
Reusable card component for displaying blog posts in list views
Usage: {% include 'blog/components/post_card.html' with post=post %}
{% endcomment %}

<article class="blog-post-card project-card" role="article" aria-labelledby="post-title-{{ post.slug }}">
    <header class="post-header">
        <h3 id="post-title-{{ post.slug }}">
            <a href="{% url 'blog:post_detail' post.slug %}" aria-describedby="post-meta-{{ post.slug }}">
                {{ post.title }}
            </a>
        </h3>

        {% include 'blog/components/post_meta.html' with post=post show_updated=False compact=True %}
    </header>

    {% if post.excerpt %}
        <p class="post-excerpt">{{ post.excerpt }}</p>
    {% else %}
        <p class="post-excerpt">{{ post.content|striptags|truncatewords:50 }}</p>
    {% endif %}

    {% if post.categories.exists or post.tags.exists %}
        <div class="post-taxonomy" role="group" aria-label="Post categories and tags">
            {% if post.categories.exists %}
                <div class="post-categories">
                    {% for category in post.categories.all %}
                        <a href="{% url 'blog:category_list' category.slug %}" class="blog-category" aria-label="View posts in {{ category.name }} category">{{ category.name }}</a>
                    {% endfor %}
                </div>
            {% endif %}

            {% if post.tags.exists %}
                <div class="post-tags">
                    {% for tag in post.tags.all %}
                        <a href="{% url 'blog:tag_list' tag.slug %}" class="blog-tag" style="border-color: {{ tag.color }}" aria-label="View posts tagged with {{ tag.name }}">{{ tag.name }}</a>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    {% endif %}

    <div class="project-links">
        <a href="{% url 'blog:post_detail' post.slug %}" class="btn btn-primary" aria-label="Read full article: {{ post.title }}">
            Read Article
        </a>
    </div>
</article>