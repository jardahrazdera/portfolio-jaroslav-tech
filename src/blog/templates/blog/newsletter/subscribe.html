{% extends 'core/base.html' %}
{% load static %}

{% block title %}Subscribe to Newsletter{% endblock %}

{% block content %}
<section class="content-section">
    <div class="container">
        <div class="newsletter-subscribe-page">
            <header class="newsletter-header">
                <h2>Subscribe to Our Newsletter</h2>
                <p class="newsletter-subtitle">Stay updated with the latest posts, tutorials, and insights delivered directly to your inbox.</p>
            </header>

            <div class="newsletter-form-container">
                <form method="post" class="newsletter-form">
                    {% csrf_token %}

                    {% if messages %}
                        <div class="messages">
                            {% for message in messages %}
                                <div class="alert alert-{{ message.tags }}">
                                    {{ message }}
                                </div>
                            {% endfor %}
                        </div>
                    {% endif %}

                    <div class="form-group">
                        <label for="{{ form.email.id_for_label }}">Email Address</label>
                        {{ form.email }}
                        {% if form.email.errors %}
                            <div class="error-messages">
                                {% for error in form.email.errors %}
                                    <small class="error">{{ error }}</small>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.first_name.id_for_label }}">First Name (Optional)</label>
                        {{ form.first_name }}
                        {% if form.first_name.errors %}
                            <div class="error-messages">
                                {% for error in form.first_name.errors %}
                                    <small class="error">{{ error }}</small>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group checkbox-group">
                        {{ form.consent_to_email }}
                        <label for="{{ form.consent_to_email.id_for_label }}">
                            I consent to receiving newsletters and updates via email. You can unsubscribe at any time.
                        </label>
                        {% if form.consent_to_email.errors %}
                            <div class="error-messages">
                                {% for error in form.consent_to_email.errors %}
                                    <small class="error">{{ error }}</small>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    {% if form.non_field_errors %}
                        <div class="error-messages">
                            {% for error in form.non_field_errors %}
                                <div class="error">{{ error }}</div>
                            {% endfor %}
                        </div>
                    {% endif %}

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Subscribe to Newsletter</button>
                        <a href="{% url 'blog:post_list' %}" class="btn btn-secondary">Back to Blog</a>
                    </div>
                </form>
            </div>

            <div class="newsletter-benefits">
                <h3>What You'll Get:</h3>
                <ul class="benefits-list">
                    <li>
                        <i class="fas fa-newspaper" aria-hidden="true"></i>
                        Weekly Updates - Get the latest posts and tutorials delivered weekly
                    </li>
                    <li>
                        <i class="fas fa-star" aria-hidden="true"></i>
                        Exclusive Content - Subscriber-only tips, tricks, and insights
                    </li>
                    <li>
                        <i class="fas fa-rocket" aria-hidden="true"></i>
                        Early Access - Be the first to know about new projects and updates
                    </li>
                    <li>
                        <i class="fas fa-shield-alt" aria-hidden="true"></i>
                        Privacy Guaranteed - We respect your privacy and never share your email
                    </li>
                </ul>
            </div>

            <div class="newsletter-privacy">
                <h4>Privacy Promise</h4>
                <p>We respect your privacy and will never share your email address with third parties. You can unsubscribe at any time using the link provided in every email. We're committed to keeping your data safe and secure.</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}