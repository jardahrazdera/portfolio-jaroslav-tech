{% extends "admin/base.html" %}
{% load static %}

{% block title %}{{ title }} | DevTracker Admin{% endblock %}

{% block branding %}
<div id="site-name">
    <a href="{% url 'admin:index' %}" style="color: var(--mauve, #CBA6F7); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">
        <span style="font-family: 'JetBrains Mono', monospace; font-size: 1.2rem;">$/~</span>
        <span style="font-weight: 600;">DevTracker Admin</span>
    </a>
    <div style="font-size: 0.8rem; color: var(--subtext, #A6ADC8); margin-top: 0.25rem;">
        Project Management System
    </div>
</div>
{% endblock %}

{% block nav-global %}
<div id="nav-global" style="background: var(--mantle, #181825); border-bottom: 1px solid var(--overlay, #9399B2);">
    <div style="display: flex; gap: 1rem; align-items: center; padding: 0 1rem;">
        <a href="{% url 'devtracker:project_list' %}" style="color: var(--text, #CDD6F4); text-decoration: none; padding: 0.75rem 0;">
            ‚Üê Back to DevTracker
        </a>
        <a href="{% url 'devtracker:dashboard' %}" style="color: var(--subtext, #A6ADC8); text-decoration: none; padding: 0.75rem 0;">
            Dashboard
        </a>
    </div>
</div>
{% endblock %}

{% block extrahead %}
<style>
:root {
    /* Catppuccin Mocha colors */
    --base: #1E1E2E;
    --mantle: #181825;
    --crust: #11111B;
    --text: #CDD6F4;
    --subtext: #A6ADC8;
    --overlay: #9399B2;
    --surface: #313244;
    --mauve: #CBA6F7;
    --pink: #F5C2E7;
    --maroon: #EBA0AC;
    --peach: #FAB387;
    --yellow: #F9E2AF;
    --green: #A6E3A1;
    --teal: #94E2D5;
    --sky: #89DCEB;
    --sapphire: #74C7EC;
    --blue: #89B4FA;
    --lavender: #B4BEFE;
    --red: #F38BA8;
}

/* Base styling */
body {
    background: var(--base) !important;
    color: var(--text) !important;
    font-family: 'JetBrains Mono', monospace !important;
}

/* Header */
#header {
    background: var(--crust) !important;
    border-bottom: 1px solid var(--overlay) !important;
}

#site-name a:link, #site-name a:visited {
    color: var(--mauve) !important;
}

/* Navigation */
.module h2, .module caption, .inline-group h2 {
    background: var(--mauve) !important;
    color: var(--crust) !important;
}

/* Breadcrumbs */
.breadcrumbs {
    background: var(--mantle) !important;
    border-bottom: 1px solid var(--overlay) !important;
}

.breadcrumbs a {
    color: var(--blue) !important;
}

/* Main content */
#content {
    background: var(--base) !important;
}

.module {
    background: var(--mantle) !important;
    border: 1px solid var(--overlay) !important;
}

/* Tables */
table {
    background: var(--mantle) !important;
}

thead th, .module h2 {
    background: var(--surface) !important;
    color: var(--text) !important;
    border-bottom: 1px solid var(--overlay) !important;
}

tbody tr {
    border-bottom: 1px solid var(--overlay) !important;
}

tbody tr:nth-child(even) {
    background: var(--surface) !important;
}

tbody tr:hover {
    background: rgba(203, 166, 247, 0.1) !important;
}

td, th {
    color: var(--text) !important;
    border-right: 1px solid var(--overlay) !important;
}

/* Links */
a:link, a:visited {
    color: var(--blue) !important;
}

a:hover {
    color: var(--sky) !important;
}

/* Forms */
.form-row {
    background: var(--mantle) !important;
    border-bottom: 1px solid var(--overlay) !important;
}

input, textarea, select {
    background: var(--base) !important;
    color: var(--text) !important;
    border: 1px solid var(--overlay) !important;
    border-radius: 4px !important;
}

input:focus, textarea:focus, select:focus {
    border-color: var(--mauve) !important;
    box-shadow: 0 0 0 2px rgba(203, 166, 247, 0.2) !important;
    outline: none !important;
}

/* Buttons */
.default, input[type=submit], input[type=button], .submit-row input, .button {
    background: var(--mauve) !important;
    color: var(--crust) !important;
    border: none !important;
    border-radius: 4px !important;
    padding: 0.5rem 1rem !important;
    font-family: 'JetBrains Mono', monospace !important;
}

.default:hover, input[type=submit]:hover, input[type=button]:hover, .button:hover {
    background: var(--pink) !important;
}

.deletelink {
    background: var(--red) !important;
    color: var(--crust) !important;
}

.deletelink:hover {
    background: var(--maroon) !important;
}

/* Sidebar */
#changelist-sidebar {
    background: var(--mantle) !important;
    border-left: 1px solid var(--overlay) !important;
}

#changelist-sidebar h2 {
    background: var(--surface) !important;
    color: var(--text) !important;
}

#changelist-sidebar h3 {
    color: var(--mauve) !important;
}

#changelist-sidebar a {
    color: var(--text) !important;
}

#changelist-sidebar a:hover {
    background: rgba(203, 166, 247, 0.1) !important;
}

/* Actions */
.actions {
    background: var(--surface) !important;
    border: 1px solid var(--overlay) !important;
}

.actions select {
    background: var(--base) !important;
}

/* Messages */
.messagelist .success {
    background: rgba(166, 227, 161, 0.2) !important;
    color: var(--green) !important;
    border: 1px solid var(--green) !important;
}

.messagelist .error {
    background: rgba(243, 139, 168, 0.2) !important;
    color: var(--red) !important;
    border: 1px solid var(--red) !important;
}

.messagelist .warning {
    background: rgba(249, 226, 175, 0.2) !important;
    color: var(--yellow) !important;
    border: 1px solid var(--yellow) !important;
}

/* Dashboard */
.dashboard .module table th {
    background: var(--surface) !important;
}

.dashboard .module {
    border: 1px solid var(--overlay) !important;
}

/* Login page specific */
.login {
    background: var(--base) !important;
}

.login .form-row {
    background: transparent !important;
}

.login .form-row label {
    color: var(--text) !important;
}

/* Footer */
#footer {
    background: var(--crust) !important;
    color: var(--subtext) !important;
    border-top: 1px solid var(--overlay) !important;
}

/* Pagination */
.paginator {
    color: var(--text) !important;
}

.paginator a:link, .paginator a:visited {
    background: var(--surface) !important;
    color: var(--text) !important;
    border: 1px solid var(--overlay) !important;
}

.paginator a:hover {
    background: var(--mauve) !important;
    color: var(--crust) !important;
}

.paginator .this-page {
    background: var(--mauve) !important;
    color: var(--crust) !important;
}

/* Inline forms */
.inline-group {
    background: var(--mantle) !important;
    border: 1px solid var(--overlay) !important;
}

.inline-related {
    background: var(--surface) !important;
}

/* Object tools */
.object-tools {
    background: transparent !important;
}

.object-tools a {
    background: var(--blue) !important;
    color: var(--crust) !important;
    border-radius: 4px !important;
}

.object-tools a:hover {
    background: var(--sky) !important;
}

/* Calendar widget */
.calendar {
    background: var(--mantle) !important;
    border: 1px solid var(--overlay) !important;
}

.calendar td {
    background: var(--base) !important;
    color: var(--text) !important;
}

.calendar td:hover {
    background: var(--surface) !important;
}

/* Help text */
.help {
    color: var(--subtext) !important;
}

/* Required fields */
.required {
    color: var(--red) !important;
}

/* Selected items */
.selected {
    background: rgba(203, 166, 247, 0.3) !important;
}

/* Change form specific */
.change-form .form-row {
    border-bottom: 1px solid rgba(147, 153, 178, 0.3) !important;
}

/* File upload */
.file-upload .current {
    color: var(--text) !important;
}

/* Model icons */
.model-project .addlink, .model-project .changelink {
    background-image: none !important;
}

.model-project .addlink::before {
    content: "üìÅ ";
}

.model-task .addlink::before, .model-task .changelink::before {
    content: "‚úì ";
}

.model-timelog .addlink::before, .model-timelog .changelink::before {
    content: "‚è±Ô∏è ";
}

.model-tag .addlink::before, .model-tag .changelink::before {
    content: "üè∑Ô∏è ";
}

.model-technology .addlink::before, .model-technology .changelink::before {
    content: "‚öôÔ∏è ";
}

.model-projectstatus .addlink::before, .model-projectstatus .changelink::before {
    content: "üìä ";
}

/* Dark scrollbars */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: var(--base);
}

::-webkit-scrollbar-thumb {
    background: var(--surface);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--overlay);
}
</style>
{% endblock %}