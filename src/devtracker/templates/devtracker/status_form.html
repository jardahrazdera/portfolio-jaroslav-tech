{% extends 'devtracker/base_tracker.html' %}
{% load static i18n %}

{% block title %}
    {% if editing %}
        {% trans "Edit Status Update" %} - DevTracker
    {% else %}
        {% trans "Add Status Update" %} - DevTracker
    {% endif %}
{% endblock %}

{% block content %}
<div class="container">
    <div class="form-container">
        <div class="form-header">
            <h1 class="form-title">
                {% if editing %}
                    {% trans "Edit Status Update" %}
                {% else %}
                    {% trans "Add Status Update" %}
                {% endif %}
            </h1>
            <p class="form-subtitle">{% trans "For project:" %} {{ project.name }}</p>
        </div>

        <div class="project-card">
            <form method="post">
                {% csrf_token %}
                
                {% if form.errors %}
                    <div class="message message-error">
                        <strong>{% trans "Please correct the errors below" %}</strong>
                    </div>
                {% endif %}

                <div class="form-group">
                    <label for="{{ form.status.id_for_label }}">
                        {% trans "Status" %} *
                    </label>
                    {{ form.status }}
                    {% if form.status.errors %}
                        <div class="form-errors">
                            {{ form.status.errors }}
                        </div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.date.id_for_label }}">
                        {% trans "Date" %} *
                    </label>
                    {{ form.date }}
                    {% if form.date.errors %}
                        <div class="form-errors">
                            {{ form.date.errors }}
                        </div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.note.id_for_label }}">
                        {% trans "Notes" %}
                    </label>
                    {{ form.note }}
                    {% if form.note.errors %}
                        <div class="form-errors">
                            {{ form.note.errors }}
                        </div>
                    {% endif %}
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn">
                        {% if editing %}
                            {% trans "Update Status" %}
                        {% else %}
                            {% trans "Add Status Update" %}
                        {% endif %}
                    </button>
                    <a href="{% url 'devtracker:project_detail' slug=project.slug %}" class="btn btn-secondary">
                        {% trans "Cancel" %}
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}