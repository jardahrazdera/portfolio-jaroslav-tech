{% load static i18n %}
<!DOCTYPE html>
<html lang="{% get_current_language as LANGUAGE_CODE %}{{ LANGUAGE_CODE }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}DevTracker - Project Management{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="{% static 'devtracker/favicon.svg' %}">
    
    {% if debug %}
    <!-- Reuse existing styles -->
    <link rel="stylesheet" href="{% static 'core/css/fonts.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/style.css' %}">
    <!-- DevTracker specific styles -->
    <link rel="stylesheet" href="{% static 'devtracker/css/tracker.css' %}">
    {% else %}
    <link rel="stylesheet" href="{% static 'dist/tracker.min.css' %}">
    {% endif %}
    
    {% block extra_css %}{% endblock %}

    {# Umami Analytics Tracking Code #}
    <script defer src="https://analytics.jaroslav.tech/script.js" data-website-id="7c8d7a39-df24-4b6f-8095-e4a5d446d38f"></script>
</head>
<body>
    {% include 'devtracker/components/nav.html' %}
    
    <main class="tracker-main">
        {% if messages %}
            <div class="messages">
                {% for message in messages %}
                    <div class="message message-{{ message.tags }}">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        
        {% block content %}{% endblock %}
    </main>
    
    <footer class="main-footer">
        <div class="container">
            <p>&copy; {% now "Y" %} DevTracker - Project Management System</p>
        </div>
    </footer>
    
    <!-- Alpine.js for interactive features -->
    <script defer src="{% static 'alpinejs/dist/cdn.min.js' %}"></script>

    {% if debug %}
    <script src="{% static 'core/js/main.js' %}"></script>
    <script src="{% static 'devtracker/js/form-validation.js' %}"></script>
    <script src="{% static 'devtracker/js/dynamic-styles.js' %}"></script>
    {% else %}
    <script src="{% static 'dist/bundle.min.js' %}"></script>
    {% endif %}
    {% block extra_js %}{% endblock %}
</body>
</html>
